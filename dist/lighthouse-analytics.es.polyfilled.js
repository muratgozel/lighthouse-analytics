var e=function(t){try{return!!t()}catch(t){return!0}},n={}.toString,r=function(t){return n.call(t).slice(8,-1)},i="".split,o=e((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==r(t)?i.call(t,""):Object(t)}:Object,s=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},a=function(t){return o(s(t))},c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function u(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}var l,f=function(t){return t&&t.Math==Math&&t},p=f("object"==typeof globalThis&&globalThis)||f("object"==typeof window&&window)||f("object"==typeof self&&self)||f("object"==typeof c&&c)||Function("return this")(),h=!e((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),d=function(t){return"object"==typeof t?null!==t:"function"==typeof t},v=p.document,y=d(v)&&d(v.createElement),g=function(t){return y?v.createElement(t):{}},m=!h&&!e((function(){return 7!=Object.defineProperty(g("div"),"a",{get:function(){return 7}}).a})),b=function(t){if(!d(t))throw TypeError(String(t)+" is not an object");return t},w=function(t,e){if(!d(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!d(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!d(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!d(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},E=Object.defineProperty,O={f:h?E:function(t,e,n){if(b(t),e=w(e,!0),b(n),m)try{return E(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},S=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},j=h?function(t,e,n){return O.f(t,e,S(1,n))}:function(t,e,n){return t[e]=n,t},x=function(t,e){try{j(p,t,e)}catch(n){p[t]=e}return e},T=p["__core-js_shared__"]||x("__core-js_shared__",{}),_=u((function(t){(t.exports=function(t,e){return T[t]||(T[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})})),I={}.hasOwnProperty,L=function(t,e){return I.call(t,e)},P=0,k=Math.random(),A=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++P+k).toString(36)},D=!!Object.getOwnPropertySymbols&&!e((function(){return!String(Symbol())})),R=D&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,N=_("wks"),C=p.Symbol,M=R?C:C&&C.withoutSetter||A,V=function(t){return L(N,t)||(D&&L(C,t)?N[t]=C[t]:N[t]=M("Symbol."+t)),N[t]},B=Math.ceil,F=Math.floor,U=function(t){return isNaN(t=+t)?0:(t>0?F:B)(t)},G=Math.min,q=function(t){return t>0?G(U(t),9007199254740991):0},z=Math.max,K=Math.min,W=function(t){return function(e,n,r){var i,o=a(e),s=q(o.length),c=function(t,e){var n=U(t);return n<0?z(n+e,0):K(n,e)}(r,s);if(t&&n!=n){for(;s>c;)if((i=o[c++])!=i)return!0}else for(;s>c;c++)if((t||c in o)&&o[c]===n)return t||c||0;return!t&&-1}},Y={includes:W(!0),indexOf:W(!1)},$={},H=Y.indexOf,J=function(t,e){var n,r=a(t),i=0,o=[];for(n in r)!L($,n)&&L(r,n)&&o.push(n);for(;e.length>i;)L(r,n=e[i++])&&(~H(o,n)||o.push(n));return o},Z=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Q=Object.keys||function(t){return J(t,Z)},X=h?Object.defineProperties:function(t,e){b(t);for(var n,r=Q(e),i=r.length,o=0;i>o;)O.f(t,n=r[o++],e[n]);return t},tt=p,et=function(t){return"function"==typeof t?t:void 0},nt=function(t,e){return arguments.length<2?et(tt[t])||et(p[t]):tt[t]&&tt[t][e]||p[t]&&p[t][e]},rt=nt("document","documentElement"),it=_("keys"),ot=function(t){return it[t]||(it[t]=A(t))},st=ot("IE_PROTO"),at=function(){},ct=function(t){return"<script>"+t+"<\/script>"},ut=function(){try{l=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;ut=l?function(t){t.write(ct("")),t.close();var e=t.parentWindow.Object;return t=null,e}(l):((e=g("iframe")).style.display="none",rt.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(ct("document.F=Object")),t.close(),t.F);for(var n=Z.length;n--;)delete ut.prototype[Z[n]];return ut()};$[st]=!0;var lt=Object.create||function(t,e){var n;return null!==t?(at.prototype=b(t),n=new at,at.prototype=null,n[st]=t):n=ut(),void 0===e?n:X(n,e)},ft=V("unscopables"),pt=Array.prototype;null==pt[ft]&&O.f(pt,ft,{configurable:!0,value:lt(null)});var ht=function(t){pt[ft][t]=!0},dt={},vt=Function.toString;"function"!=typeof T.inspectSource&&(T.inspectSource=function(t){return vt.call(t)});var yt,gt,mt,bt=T.inspectSource,wt=p.WeakMap,Et="function"==typeof wt&&/native code/.test(bt(wt)),Ot=p.WeakMap;if(Et){var St=new Ot,jt=St.get,xt=St.has,Tt=St.set;yt=function(t,e){return Tt.call(St,t,e),e},gt=function(t){return jt.call(St,t)||{}},mt=function(t){return xt.call(St,t)}}else{var _t=ot("state");$[_t]=!0,yt=function(t,e){return j(t,_t,e),e},gt=function(t){return L(t,_t)?t[_t]:{}},mt=function(t){return L(t,_t)}}var It,Lt,Pt,kt={set:yt,get:gt,has:mt,enforce:function(t){return mt(t)?gt(t):yt(t,{})},getterFor:function(t){return function(e){var n;if(!d(e)||(n=gt(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},At={}.propertyIsEnumerable,Dt=Object.getOwnPropertyDescriptor,Rt={f:Dt&&!At.call({1:2},1)?function(t){var e=Dt(this,t);return!!e&&e.enumerable}:At},Nt=Object.getOwnPropertyDescriptor,Ct={f:h?Nt:function(t,e){if(t=a(t),e=w(e,!0),m)try{return Nt(t,e)}catch(t){}if(L(t,e))return S(!Rt.f.call(t,e),t[e])}},Mt=u((function(t){var e=kt.get,n=kt.enforce,r=String(String).split("String");(t.exports=function(t,e,i,o){var s=!!o&&!!o.unsafe,a=!!o&&!!o.enumerable,c=!!o&&!!o.noTargetGet;"function"==typeof i&&("string"!=typeof e||L(i,"name")||j(i,"name",e),n(i).source=r.join("string"==typeof e?e:"")),t!==p?(s?!c&&t[e]&&(a=!0):delete t[e],a?t[e]=i:j(t,e,i)):a?t[e]=i:x(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||bt(this)}))})),Vt=Z.concat("length","prototype"),Bt={f:Object.getOwnPropertyNames||function(t){return J(t,Vt)}},Ft={f:Object.getOwnPropertySymbols},Ut=nt("Reflect","ownKeys")||function(t){var e=Bt.f(b(t)),n=Ft.f;return n?e.concat(n(t)):e},Gt=function(t,e){for(var n=Ut(e),r=O.f,i=Ct.f,o=0;o<n.length;o++){var s=n[o];L(t,s)||r(t,s,i(e,s))}},qt=/#|\.prototype\./,zt=function(t,n){var r=Wt[Kt(t)];return r==$t||r!=Yt&&("function"==typeof n?e(n):!!n)},Kt=zt.normalize=function(t){return String(t).replace(qt,".").toLowerCase()},Wt=zt.data={},Yt=zt.NATIVE="N",$t=zt.POLYFILL="P",Ht=zt,Jt=Ct.f,Zt=function(t,e){var n,r,i,o,s,a=t.target,c=t.global,u=t.stat;if(n=c?p:u?p[a]||x(a,{}):(p[a]||{}).prototype)for(r in e){if(o=e[r],i=t.noTargetGet?(s=Jt(n,r))&&s.value:n[r],!Ht(c?r:a+(u?".":"#")+r,t.forced)&&void 0!==i){if(typeof o==typeof i)continue;Gt(o,i)}(t.sham||i&&i.sham)&&j(o,"sham",!0),Mt(n,r,o,t)}},Qt=function(t){return Object(s(t))},Xt=!e((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),te=ot("IE_PROTO"),ee=Object.prototype,ne=Xt?Object.getPrototypeOf:function(t){return t=Qt(t),L(t,te)?t[te]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?ee:null},re=V("iterator"),ie=!1;[].keys&&("next"in(Pt=[].keys())?(Lt=ne(ne(Pt)))!==Object.prototype&&(It=Lt):ie=!0),null==It&&(It={}),L(It,re)||j(It,re,(function(){return this}));var oe={IteratorPrototype:It,BUGGY_SAFARI_ITERATORS:ie},se=O.f,ae=V("toStringTag"),ce=function(t,e,n){t&&!L(t=n?t:t.prototype,ae)&&se(t,ae,{configurable:!0,value:e})},ue=oe.IteratorPrototype,le=function(){return this},fe=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return b(n),function(t){if(!d(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(r),e?t.call(n,r):n.__proto__=r,n}}():void 0),pe=oe.IteratorPrototype,he=oe.BUGGY_SAFARI_ITERATORS,de=V("iterator"),ve=function(){return this},ye=function(t,e,n,r,i,o,s){!function(t,e,n){var r=e+" Iterator";t.prototype=lt(ue,{next:S(1,n)}),ce(t,r,!1),dt[r]=le}(n,e,r);var a,c,u,l=function(t){if(t===i&&v)return v;if(!he&&t in h)return h[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},f=e+" Iterator",p=!1,h=t.prototype,d=h[de]||h["@@iterator"]||i&&h[i],v=!he&&d||l(i),y="Array"==e&&h.entries||d;if(y&&(a=ne(y.call(new t)),pe!==Object.prototype&&a.next&&(ne(a)!==pe&&(fe?fe(a,pe):"function"!=typeof a[de]&&j(a,de,ve)),ce(a,f,!0))),"values"==i&&d&&"values"!==d.name&&(p=!0,v=function(){return d.call(this)}),h[de]!==v&&j(h,de,v),dt[e]=v,i)if(c={values:l("values"),keys:o?v:l("keys"),entries:l("entries")},s)for(u in c)(he||p||!(u in h))&&Mt(h,u,c[u]);else Zt({target:e,proto:!0,forced:he||p},c);return c},ge=kt.set,me=kt.getterFor("Array Iterator"),be=ye(Array,"Array",(function(t,e){ge(this,{type:"Array Iterator",target:a(t),index:0,kind:e})}),(function(){var t=me(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");dt.Arguments=dt.Array,ht("keys"),ht("values"),ht("entries");var we,Ee,Oe=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},Se=function(t,e,n){if(Oe(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},je=Array.isArray||function(t){return"Array"==r(t)},xe=V("species"),Te=function(t,e){var n;return je(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!je(n.prototype)?d(n)&&null===(n=n[xe])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)},_e=[].push,Ie=function(t){var e=1==t,n=2==t,r=3==t,i=4==t,s=6==t,a=5==t||s;return function(c,u,l,f){for(var p,h,d=Qt(c),v=o(d),y=Se(u,l,3),g=q(v.length),m=0,b=f||Te,w=e?b(c,g):n?b(c,0):void 0;g>m;m++)if((a||m in v)&&(h=y(p=v[m],m,d),t))if(e)w[m]=h;else if(h)switch(t){case 3:return!0;case 5:return p;case 6:return m;case 2:_e.call(w,p)}else if(i)return!1;return s?-1:r||i?i:w}},Le={forEach:Ie(0),map:Ie(1),filter:Ie(2),some:Ie(3),every:Ie(4),find:Ie(5),findIndex:Ie(6)},Pe=nt("navigator","userAgent")||"",ke=p.process,Ae=ke&&ke.versions,De=Ae&&Ae.v8;De?Ee=(we=De.split("."))[0]+we[1]:Pe&&(!(we=Pe.match(/Edge\/(\d+)/))||we[1]>=74)&&(we=Pe.match(/Chrome\/(\d+)/))&&(Ee=we[1]);var Re=Ee&&+Ee,Ne=V("species"),Ce=function(t){return Re>=51||!e((function(){var e=[];return(e.constructor={})[Ne]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Me=Object.defineProperty,Ve={},Be=function(t){throw t},Fe=function(t,n){if(L(Ve,t))return Ve[t];n||(n={});var r=[][t],i=!!L(n,"ACCESSORS")&&n.ACCESSORS,o=L(n,0)?n[0]:Be,s=L(n,1)?n[1]:void 0;return Ve[t]=!!r&&!e((function(){if(i&&!h)return!0;var t={length:-1};i?Me(t,1,{enumerable:!0,get:Be}):t[1]=1,r.call(t,o,s)}))},Ue=Le.map,Ge=Ce("map"),qe=Fe("map");Zt({target:"Array",proto:!0,forced:!Ge||!qe},{map:function(t){return Ue(this,t,arguments.length>1?arguments[1]:void 0)}});var ze=O.f,Ke=Function.prototype,We=Ke.toString,Ye=/^\s*function ([^ (]*)/;h&&!("name"in Ke)&&ze(Ke,"name",{configurable:!0,get:function(){try{return We.call(this).match(Ye)[1]}catch(t){return""}}});var $e=Object.assign,He=Object.defineProperty,Je=!$e||e((function(){if(h&&1!==$e({b:1},$e(He({},"a",{enumerable:!0,get:function(){He(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=$e({},t)[n]||Q($e({},e)).join("")!=r}))?function(t,e){for(var n=Qt(t),r=arguments.length,i=1,s=Ft.f,a=Rt.f;r>i;)for(var c,u=o(arguments[i++]),l=s?Q(u).concat(s(u)):Q(u),f=l.length,p=0;f>p;)c=l[p++],h&&!a.call(u,c)||(n[c]=u[c]);return n}:$e;Zt({target:"Object",stat:!0,forced:Object.assign!==Je},{assign:Je});var Ze={};Ze[V("toStringTag")]="z";var Qe="[object z]"===String(Ze),Xe=V("toStringTag"),tn="Arguments"==r(function(){return arguments}()),en=Qe?r:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Xe))?n:tn?r(e):"Object"==(i=r(e))&&"function"==typeof e.callee?"Arguments":i},nn=Qe?{}.toString:function(){return"[object "+en(this)+"]"};Qe||Mt(Object.prototype,"toString",nn,{unsafe:!0});var rn=p.Promise,on=V("species"),sn=V("iterator"),an=Array.prototype,cn=V("iterator"),un=function(t,e,n,r){try{return r?e(b(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&b(i.call(t)),e}},ln=u((function(t){var e=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,n,r,i,o){var s,a,c,u,l,f,p,h,d=Se(n,r,i?2:1);if(o)s=t;else{if("function"!=typeof(a=function(t){if(null!=t)return t[cn]||t["@@iterator"]||dt[en(t)]}(t)))throw TypeError("Target is not iterable");if(void 0!==(h=a)&&(dt.Array===h||an[sn]===h)){for(c=0,u=q(t.length);u>c;c++)if((l=i?d(b(p=t[c])[0],p[1]):d(t[c]))&&l instanceof e)return l;return new e(!1)}s=a.call(t)}for(f=s.next;!(p=f.call(s)).done;)if("object"==typeof(l=un(s,d,p.value,i))&&l&&l instanceof e)return l;return new e(!1)}).stop=function(t){return new e(!0,t)}})),fn=V("iterator"),pn=!1;try{var hn=0,dn={next:function(){return{done:!!hn++}},return:function(){pn=!0}};dn[fn]=function(){return this},Array.from(dn,(function(){throw 2}))}catch(t){}var vn,yn,gn,mn=V("species"),bn=/(iphone|ipod|ipad).*applewebkit/i.test(Pe),wn=p.location,En=p.setImmediate,On=p.clearImmediate,Sn=p.process,jn=p.MessageChannel,xn=p.Dispatch,Tn=0,_n={},In=function(t){if(_n.hasOwnProperty(t)){var e=_n[t];delete _n[t],e()}},Ln=function(t){return function(){In(t)}},Pn=function(t){In(t.data)},kn=function(t){p.postMessage(t+"",wn.protocol+"//"+wn.host)};En&&On||(En=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return _n[++Tn]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},vn(Tn),Tn},On=function(t){delete _n[t]},"process"==r(Sn)?vn=function(t){Sn.nextTick(Ln(t))}:xn&&xn.now?vn=function(t){xn.now(Ln(t))}:jn&&!bn?(gn=(yn=new jn).port2,yn.port1.onmessage=Pn,vn=Se(gn.postMessage,gn,1)):!p.addEventListener||"function"!=typeof postMessage||p.importScripts||e(kn)||"file:"===wn.protocol?vn="onreadystatechange"in g("script")?function(t){rt.appendChild(g("script")).onreadystatechange=function(){rt.removeChild(this),In(t)}}:function(t){setTimeout(Ln(t),0)}:(vn=kn,p.addEventListener("message",Pn,!1)));var An,Dn,Rn,Nn,Cn,Mn,Vn,Bn,Fn={set:En,clear:On},Un=Ct.f,Gn=Fn.set,qn=p.MutationObserver||p.WebKitMutationObserver,zn=p.process,Kn=p.Promise,Wn="process"==r(zn),Yn=Un(p,"queueMicrotask"),$n=Yn&&Yn.value;$n||(An=function(){var t,e;for(Wn&&(t=zn.domain)&&t.exit();Dn;){e=Dn.fn,Dn=Dn.next;try{e()}catch(t){throw Dn?Nn():Rn=void 0,t}}Rn=void 0,t&&t.enter()},Wn?Nn=function(){zn.nextTick(An)}:qn&&!bn?(Cn=!0,Mn=document.createTextNode(""),new qn(An).observe(Mn,{characterData:!0}),Nn=function(){Mn.data=Cn=!Cn}):Kn&&Kn.resolve?(Vn=Kn.resolve(void 0),Bn=Vn.then,Nn=function(){Bn.call(Vn,An)}):Nn=function(){Gn.call(p,An)});var Hn,Jn,Zn,Qn,Xn=$n||function(t){var e={fn:t,next:void 0};Rn&&(Rn.next=e),Dn||(Dn=e,Nn()),Rn=e},tr=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=Oe(e),this.reject=Oe(n)},er={f:function(t){return new tr(t)}},nr=function(t,e){if(b(t),d(e)&&e.constructor===t)return e;var n=er.f(t);return(0,n.resolve)(e),n.promise},rr=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},ir=Fn.set,or=V("species"),sr="Promise",ar=kt.get,cr=kt.set,ur=kt.getterFor(sr),lr=rn,fr=p.TypeError,pr=p.document,hr=p.process,dr=nt("fetch"),vr=er.f,yr=vr,gr="process"==r(hr),mr=!!(pr&&pr.createEvent&&p.dispatchEvent),br=Ht(sr,(function(){if(!(bt(lr)!==String(lr))){if(66===Re)return!0;if(!gr&&"function"!=typeof PromiseRejectionEvent)return!0}if(Re>=51&&/native code/.test(lr))return!1;var t=lr.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[or]=e,!(t.then((function(){}))instanceof e)})),wr=br||!function(t,e){if(!e&&!pn)return!1;var n=!1;try{var r={};r[fn]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}((function(t){lr.all(t).catch((function(){}))})),Er=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},Or=function(t,e,n){if(!e.notified){e.notified=!0;var r=e.reactions;Xn((function(){for(var i=e.value,o=1==e.state,s=0;r.length>s;){var a,c,u,l=r[s++],f=o?l.ok:l.fail,p=l.resolve,h=l.reject,d=l.domain;try{f?(o||(2===e.rejection&&Tr(t,e),e.rejection=1),!0===f?a=i:(d&&d.enter(),a=f(i),d&&(d.exit(),u=!0)),a===l.promise?h(fr("Promise-chain cycle")):(c=Er(a))?c.call(a,p,h):p(a)):h(i)}catch(t){d&&!u&&d.exit(),h(t)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&jr(t,e)}))}},Sr=function(t,e,n){var r,i;mr?((r=pr.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),p.dispatchEvent(r)):r={promise:e,reason:n},(i=p["on"+t])?i(r):"unhandledrejection"===t&&function(t,e){var n=p.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)},jr=function(t,e){ir.call(p,(function(){var n,r=e.value;if(xr(e)&&(n=rr((function(){gr?hr.emit("unhandledRejection",r,t):Sr("unhandledrejection",t,r)})),e.rejection=gr||xr(e)?2:1,n.error))throw n.value}))},xr=function(t){return 1!==t.rejection&&!t.parent},Tr=function(t,e){ir.call(p,(function(){gr?hr.emit("rejectionHandled",t):Sr("rejectionhandled",t,e.value)}))},_r=function(t,e,n,r){return function(i){t(e,n,i,r)}},Ir=function(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,Or(t,e,!0))},Lr=function(t,e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(t===n)throw fr("Promise can't be resolved itself");var i=Er(n);i?Xn((function(){var r={done:!1};try{i.call(n,_r(Lr,t,r,e),_r(Ir,t,r,e))}catch(n){Ir(t,r,n,e)}})):(e.value=n,e.state=1,Or(t,e,!1))}catch(n){Ir(t,{done:!1},n,e)}}};br&&(lr=function(t){!function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation")}(this,lr,sr),Oe(t),Hn.call(this);var e=ar(this);try{t(_r(Lr,this,e),_r(Ir,this,e))}catch(t){Ir(this,e,t)}},(Hn=function(t){cr(this,{type:sr,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=function(t,e,n){for(var r in e)Mt(t,r,e[r],n);return t}(lr.prototype,{then:function(t,e){var n,r,i,o=ur(this),s=vr((n=lr,void 0===(i=b(this).constructor)||null==(r=b(i)[mn])?n:Oe(r)));return s.ok="function"!=typeof t||t,s.fail="function"==typeof e&&e,s.domain=gr?hr.domain:void 0,o.parent=!0,o.reactions.push(s),0!=o.state&&Or(this,o,!1),s.promise},catch:function(t){return this.then(void 0,t)}}),Jn=function(){var t=new Hn,e=ar(t);this.promise=t,this.resolve=_r(Lr,t,e),this.reject=_r(Ir,t,e)},er.f=vr=function(t){return t===lr||t===Zn?new Jn(t):yr(t)},"function"==typeof rn&&(Qn=rn.prototype.then,Mt(rn.prototype,"then",(function(t,e){var n=this;return new lr((function(t,e){Qn.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof dr&&Zt({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return nr(lr,dr.apply(p,arguments))}}))),Zt({global:!0,wrap:!0,forced:br},{Promise:lr}),ce(lr,sr,!1),function(t){var e=nt(t),n=O.f;h&&e&&!e[on]&&n(e,on,{configurable:!0,get:function(){return this}})}(sr),Zn=nt(sr),Zt({target:sr,stat:!0,forced:br},{reject:function(t){var e=vr(this);return e.reject.call(void 0,t),e.promise}}),Zt({target:sr,stat:!0,forced:br},{resolve:function(t){return nr(this,t)}}),Zt({target:sr,stat:!0,forced:wr},{all:function(t){var e=this,n=vr(e),r=n.resolve,i=n.reject,o=rr((function(){var n=Oe(e.resolve),o=[],s=0,a=1;ln(t,(function(t){var c=s++,u=!1;o.push(void 0),a++,n.call(e,t).then((function(t){u||(u=!0,o[c]=t,--a||r(o))}),i)})),--a||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=vr(e),r=n.reject,i=rr((function(){var i=Oe(e.resolve);ln(t,(function(t){i.call(e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var Pr=function(t){return function(e,n){var r,i,o=String(s(e)),a=U(n),c=o.length;return a<0||a>=c?t?"":void 0:(r=o.charCodeAt(a))<55296||r>56319||a+1===c||(i=o.charCodeAt(a+1))<56320||i>57343?t?o.charAt(a):r:t?o.slice(a,a+2):i-56320+(r-55296<<10)+65536}},kr={codeAt:Pr(!1),charAt:Pr(!0)},Ar=kr.charAt,Dr=kt.set,Rr=kt.getterFor("String Iterator");ye(String,"String",(function(t){Dr(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=Rr(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=Ar(n,r),e.index+=t.length,{value:t,done:!1})}));var Nr={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Cr=V("iterator"),Mr=V("toStringTag"),Vr=be.values;for(var Br in Nr){var Fr=p[Br],Ur=Fr&&Fr.prototype;if(Ur){if(Ur[Cr]!==Vr)try{j(Ur,Cr,Vr)}catch(t){Ur[Cr]=Vr}if(Ur[Mr]||j(Ur,Mr,Br),Nr[Br])for(var Gr in be)if(Ur[Gr]!==be[Gr])try{j(Ur,Gr,be[Gr])}catch(t){Ur[Gr]=be[Gr]}}}var qr=[].slice,zr=/MSIE .\./.test(Pe),Kr=function(t){return function(e,n){var r=arguments.length>2,i=r?qr.call(arguments,2):void 0;return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};function Wr(t){this._events={},this.checkInitialEvents(t)}Zt({global:!0,bind:!0,forced:zr},{setTimeout:Kr(p.setTimeout),setInterval:Kr(p.setInterval)}),Wr.prototype.checkInitialEvents=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this;if("[object Object]"===Object.prototype.toString.call(t)){var n=Object.keys(t);n.length>0&&n.map((function(n){e.on(n,t[n])}))}},Wr.prototype.on=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("function"!=typeof e||"string"!=typeof t)return this;this._events.hasOwnProperty(t)||(this._events[t]=[]);var r=Object.assign({},{once:!1},"[object Object]"===Object.prototype.toString.call(n)?n:{}),i=Object.assign({},r,{fn:e});return this._events[t]=this._events[t].concat([i]),this},Wr.prototype.once=function(t,e){return this.on(t,e,{once:!0})},Wr.prototype.emit=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=this;if("string"==typeof t&&n._events.hasOwnProperty(t)&&!(n._events[t].length<1)){var r=Array.isArray(e)&&e.length>0?e:void 0!==e?[e]:void 0,i=n._events[t].map((function(t){return t.fn.apply(n,r)}));return n._events[t]=n._events[t].filter((function(t){return!1===t.once})),i}},Wr.prototype.removeEvent=function(t){return"string"==typeof t&&!!this._events.hasOwnProperty(t)&&(this._events[t]=[],!0)},Wr.prototype.flush=function(){return this._events={},this};var Yr,$r=Wr,Hr=u((function(e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(){}Object.defineProperty(n,"__esModule",{value:!0}),i.prototype.regexes={uuid:/[a-zA-Z0-9]{8}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{12}/g,email:/^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i},i.prototype.isString=function(t){return"string"==typeof t},i.prototype.isBoolean=function(t){return!0===t||!1===t},i.prototype.isNull=function(t){return null===t},i.prototype.isUndefined=function(t){return void 0===t},i.prototype.isNumber=function(t){return"number"==typeof t&&!0===Number.isFinite(t)},i.prototype.isInteger=function(t){return Number.isInteger(t)},i.prototype.isNan=function(t){return"number"==typeof t&&t!=+t},i.prototype.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)},i.prototype.isArray=function(t){return Array.isArray(t)},i.prototype.isPromise=function(t){return Boolean(t&&"function"==typeof t.then)},i.prototype.isError=function(t){return t instanceof Error},i.prototype.isDate=function(t){return t instanceof Date},i.prototype.isFunction=function(t){return"function"==typeof t},i.prototype.isRegExp=function(t){return t instanceof RegExp},i.prototype.isBigInt=function(t){return"bigint"==typeof t},i.prototype.isSymbol=function(t){return"symbol"===r(t)},i.prototype.isDOMElement=function(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))},i.prototype.getType=function(t){return this.isObject(t)?"object":this.isArray(t)?"array":this.isPromise(t)?"promise":this.isError(t)?"error":this.isDate(t)?"date":this.isNull(t)?"null":this.isUndefined(t)?"undefined":this.isFunction(t)?"function":this.isNumber(t)?"number":this.isNan(t)?"nan":this.isRegExp(t)?"regexp":this.isString(t)?"string":this.isBoolean(t)?"boolean":this.isBigInt(t)?"bigint":this.isSymbol(t)?"symbol":this.isDOMElement(t)?"domelement":"none"},i.prototype.objectifyError=function(t){var e=JSON.stringify(t,Object.getOwnPropertyNames(t)),n=JSON.parse(e);return n.stack=n.stack.split(/[\n]/g),n},i.prototype.stringifyError=function(t){return JSON.stringify(this.objectifyError(t))},i.prototype.hashcode=function(t){var e=0;if("string"!=typeof t)return e;for(var n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e&=e;return e};var o=i;i.prototype=Object.assign({},i.prototype,i.prototype),i.prototype.sprintf=function(t,e){if("number"==typeof e&&(e=e.toString()),"string"==typeof e&&e.length>0&&(e=[e]),!Array.isArray(e))return t;var n=/(%s)/;return n.test(t)?function t(r){if(0!==e.length&&n.test(r)){var i=r.replace(n,e[0]);return e.shift(),t(i)}return r}(t):t},i.prototype.template=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.isString(t)){var n=/({{)[^{}]+(}})/gm,r=t.match(n);return r&&0!==r.length&&this.isObject(e)?r.reduce((function(t,n){var r=n.slice(2,-2);return e.hasOwnProperty(r)&&(t=t.replace(n,e[r])),t}),t):t}},i.prototype.uppercase=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(this.isString(t)){var n="string"==typeof e?e.replace("_","-"):e;return t.toLocaleUpperCase(n)}},i.prototype.lowercase=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(this.isString(t)){var n="string"==typeof e?e.replace("_","-"):e;return t.toLocaleLowerCase(n)}},i.prototype.sentencecase=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(this.isString(t)){for(var r="",i=t.split(" "),o=i.length,s=0;s<o;s++){var a=i[s],c=s+1!==o?" ":"";-1!==n.indexOf(a)?r+=a+c:r+=0===s?this.uppercase(a.slice(0,1),e)+this.lowercase(a.slice(1))+c:a+c}return r}},i.prototype.titlecase=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(this.isString(t)){for(var r="",i=t.split(" "),o=i.length,s=0;s<o;s++){var a=i[s],c=s+1!==o?" ":"";-1!==n.indexOf(a)?r+=a+c:r+=this.uppercase(a.slice(0,1),e)+this.lowercase(a.slice(1),e)+c}return r}},i.prototype=Object.assign({},i.prototype,i.prototype),i.prototype.flatten=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=this;if(r.isObject(t))return Object.keys(t).reduce((function(i,o){return r.isObject(t[o])?i=Object.assign({},i,r.flatten(t[o],e,n.concat([o]))):i[n.concat([o]).join(e)]=t[o],i}),{})},i.prototype.getProp=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(!this.isObject(t))return n;if(this.isString(e))e=[e];else if(!this.isArray(e))return n;if(e.length<1)return n;for(var r=0,i=e.length;this.isObject(t)&&r<i;)t=t[e[r]],r+=1;return this.isUndefined(t)?n:t},i.prototype.removeProp=function(t,e){if(this.isObject(t)){var n=Object.keys(t);return-1===n.indexOf(e)?t:n.reduce((function(n,r){return r!=e&&(n[r]=t[r]),n}),{})}},i.prototype=Object.assign({},i.prototype,i.prototype,i.prototype),i.prototype.removeDuplicates=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this;return e?t.filter((function(e,r){var i=t.map((function(t,r){return!!(n.hasOwnProperty("isEqual")?n.isEqual(t,e):t===e)&&r})).filter((function(t){return!1!==t}));return!!n.isArray(i)&&i[0]===r})):t.filter((function(e,n){return t.indexOf(e)===n}))},i.prototype.sortItemsBy=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc",r=null;if(this.isArray(e))r="__"+e.join("_"),t=t.map(function(t){return t[r]=this.getProp(t,e),t}.bind(this));else{if(!this.isString(e))return t;r=e}return t.sort((function(t,e){var i=t[r],o=e[r];return"desc"==n?i>o?-1:o>i?1:0:(n="asc",i>o?1:o>i?-1:0)}))},i.prototype=Object.assign({},i.prototype,i.prototype,i.prototype),i.prototype.stringifyURLObject=function(t){return t.protocol+"//"+(t.username&&t.password?t.username+":"+t.password+"@":"")+t.hostname+(80!=t.port?":"+t.port:"")+("string"==typeof t.pathname?t.pathname:"")},i.prototype.waitForIt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4,i=setInterval((function(){!0===t.call()&&(clearInterval(i),e.call())}),n);setTimeout((function(){i&&(clearInterval(i),e.call(null,!1))}),r)},i.prototype.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new TypeError("Invalid debounce function.");return"[object Object]"===Object.prototype.toString.call(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),this.debounce(t,e,{leading:r,maxWait:e,trailing:i})},i.prototype.debounce=function(t,e,n){var r,i,o,s,a,c,u=0,l=!1,f=!1,p=!0;if("function"!=typeof t)throw new TypeError("Invalid debounce function.");function h(e){var n=r,o=i;return r=i=void 0,u=e,s=t.apply(o,n)}function d(t){return u=t,a=setTimeout(y,e),l?h(t):s}function v(t){var n=t-c;return void 0===c||n>=e||n<0||f&&t-u>=o}function y(){var t=Date.now();if(v(t))return g(t);a=setTimeout(y,function(t){var n=t-u,r=e-(t-c);return f?Math.min(r,o-n):r}(t))}function g(t){return a=void 0,p&&r?h(t):(r=i=void 0,s)}function m(){var t=Date.now(),n=v(t);if(r=arguments,i=this,c=t,n){if(void 0===a)return d(c);if(f)return a=setTimeout(y,e),h(c)}return void 0===a&&(a=setTimeout(y,e)),s}return e=parseFloat(e)||0,"[object Object]"===Object.prototype.toString.call(n)&&(l=!!n.leading,o=(f="maxWait"in n)?Math.max(parseFloat(n.maxWait)||0,e):o,p="trailing"in n?!!n.trailing:p),m.cancel=function(){void 0!==a&&clearTimeout(a),u=0,r=c=i=a=void 0},m.flush=function(){return void 0===a?s:g(Date.now())},m},i.prototype.stringify=function(t){return this.isObject(t)||this.isArray(t)?JSON.stringify(t):this.isString(t)?t:this.isNumber(t)||this.isInteger(t)||this.isBoolean(t)?t.toString():this.isNull(t)?"null":this.isUndefined(t)?"undefined":this.isDate(t)?t.toISOString():this.isError(t)?this.stringifyError(t):this.isNan(t)?"NaN":this.isDOMElement(t)&&t.innerText?t.innerText:this.isFunction(t)||this.isRegExp(t)||this.isBigInt(t)||this.isSymbol(t)?t.toString():""},i.prototype.destringify=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this.isString(e))return t;if("object"!=e&&"array"!=e)return"string"==e?t:"number"==e?parseFloat(t):"boolean"==e?"true"==t:"null"==e?null:"undefined"==e?void 0:"data"==e?new Date(t):"error"==e?this.objectifyError(t):"nan"==e?NaN:"regexp"==e?new RegExp(t):"bigint"==e?BigInt(t):"symbol"==e?Symbol(t):t;try{return JSON.parse(t)}catch(t){return"object"==e?{}:"array"==e?[]:{}}},i.prototype=Object.assign({},i.prototype,i.prototype,i.prototype,i.prototype),i.prototype.isEmpty=function(t){return this.isObject(t)?this.isEqual({},t):this.isArray(t)?0===t.length:!!this.isNull(t)||!!this.isUndefined(t)||(this.isNumber(t)?this.isEqual(0,t):!!this.isNan(t)||(this.isString(t)?this.isEqual("",t):!!this.isBoolean(t)&&this.isEqual(!1,t)))},i.prototype.isNotEmpty=function(t){return!0!==this.isEmpty(t)},i.prototype.isEqual=function(t,e){if(t===e)return!0;if(null===t||null===e)return!1;var n=this.getType(t);if(n!=this.getType(e))return!1;switch(n){case"object":var r=Object.keys(t),i=Object.keys(e),o=r.length;if(o!==i.length)return!1;for(var s=0;s<o;s++){var a=r[s];if(-1===i.indexOf(a))return!1;if(!this.isEqual(t[a],e[a]))return!1}return!0;case"array":var c=t.length;if(c!==e.length)return!1;for(var u=0;u<c;u++)if(!this.isEqual(t[u],e[u]))return!1;return!0;case"error":var l=this.objectifyError(t),f=this.objectifyError(e);return this.isEqual(l,f);case"date":return t.getTime()===e.getTime();case"undefined":return!0;case"number":case"nan":case"string":case"boolean":case"domelement":return t===e;case"regexp":return t.toString()===e.toString();default:return!1}},i.prototype.isUUID=function(t){return this.regexes.uuid.test(t)},i.prototype.isEmail=function(t){return this.regexes.email.test(t)},i.prototype.isPhoneNum=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.isObject(n)&&n.hasOwnProperty("parsePhoneNumber")?n:this.isObject(window.libphonenumber)&&window.libphonenumber.hasOwnProperty("parsePhoneNumber")?window.libphonenumber:null;if(this.isNull(r))throw new Error("PHONE_NUM_LIB_NOT_FOUND");try{return r.parsePhoneNumber(t,e),!0}catch(t){return!1}},i.prototype.isURL=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!=typeof t)return!1;var n={allowLocal:!1,allowDataUrl:!1,schemes:["http","https"]},r=e=Object.assign({},n,e),i=r.allowLocal,o=r.allowDataUrl,s=r.schemes,a="^(?:(?:"+s.join("|")+")://)(?:\\S+(?::\\S*)?@)?(?:",c="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))";if(i?c+="?":a+="(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})",a+="(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*"+c+")(?::\\d{2,5})?(?:[/?#]\\S*)?$",o){var u="\\w+\\/[-+.\\w]+(?:;[\\w=]+)*",l="[A-Za-z0-9-_.!~\\*'();\\/?:@&=+$,%]*",f="data:(?:"+u+")?(?:;base64)?,"+l;a="(?:"+a+")|(?:^"+f+"$)"}var p=new RegExp(a,"i");return!!p.test(t)},i.prototype=Object.assign({},i.prototype,i.prototype,i.prototype,i.prototype),i.prototype.setDOMGlobal=function(t,e){if(-1!==["window","document"].indexOf(t))return this["DOMGlobal"+(t.slice(0,1).toUpperCase()+t.slice(1))]=e,!0},i.prototype.checkDOMGlobals=function(){for(var t=["window","document"],e="DOMGlobal",n=0;n<t.length;n++){var r=t[n],i=r.slice(0,1).toUpperCase()+r.slice(1);void 0===this[e+i]&&(this[e+i]="window"==r?window:"document"==r?document:void 0)}return!0},i.prototype.getDOMGlobals=function(){return this.checkDOMGlobals(),{win:this.DOMGlobalWindow,doc:this.DOMGlobalDocument}},i.prototype.getViewportDimensions=function(){var t=this.getDOMGlobals(),e=t.win,n=t.doc,r=!("innerWidth"in e),i=r?e:n.documentElement||n.body,o=r?"inner":"client";return{width:i[o+"Width"],height:i[o+"Height"]}},i.prototype.getAbsoluteDistanceFromTop=function(e){return(((t=document.documentElement)||(t=document.body.parentNode))&&"number"==typeof t.scrollTop?t:document.body).scrollTop+e.getBoundingClientRect().top},i.prototype.getViewportRelativeDistanceFromTop=function(t){return t.getBoundingClientRect().top},i.prototype.getViewportRelativeDistanceFromBottom=function(t){var e=this.getViewportRelativeDistanceFromTop(t);return this.getViewportDimensions().height-e},i.prototype.getCaretPos=function(t){var e,n,r,i,o,s=0,a=0;return"number"==typeof t.selectionStart&&"number"==typeof t.selectionEnd?(s=t.selectionStart,a=t.selectionEnd):(n=document.selection.createRange())&&n.parentElement()==t&&(i=t.value.length,e=t.value.replace(/\r\n/g,"\n"),(r=t.createTextRange()).moveToBookmark(n.getBookmark()),(o=t.createTextRange()).collapse(!1),r.compareEndPoints("StartToEnd",o)>-1?s=a=i:(s=-r.moveStart("character",-i),s+=e.slice(0,s).split("\n").length-1,r.compareEndPoints("EndToEnd",o)>-1?a=i:(a=-r.moveEnd("character",-i),a+=e.slice(0,a).split("\n").length-1))),{start:s,end:a}},i.prototype.setCaretPos=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this.isNull(n)&&(n=e),t.setSelectionRange)t.focus(),t.setSelectionRange(e,n);else if(t.createTextRange){var r=t.createTextRange();r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",e),r.select()}},i.prototype.onDocumentClick=function(t){for(var e=this,n=e.getDOMGlobals(),r=(n.win,n.doc),i=[],o=0;o<e.documentClickListenerRecipes.length;o++){var s=e.documentClickListenerRecipes[o];"outsideClick"==s.type&&function(){!0===e.getProp(s,["opts","once"])&&i.push(o),e.isFunction(s.elements)&&(s.elements=s.elements());var n=[];if(e.isArray(s.elements))s.elements.map((function(t){if(e.isString(t)){var i=r.querySelector(t);e.isDOMElement(i)&&n.push(i)}else e.isDOMElement(t)&&n.push(t)}));else if(e.isString(s.elements)){var a=r.querySelector(s.elements);e.isDOMElement(a)&&n.push(a)}else e.isDOMElement(s.elements)&&n.push(s.elements);var c=n.filter((function(e){return t.target==e||e.contains(t.target)}));(!c||c.length<1)&&s.fn()}()}i.length>0&&(e.documentClickListenerRecipes=e.documentClickListenerRecipes.filter((function(t,e){return-1===i.indexOf(e)})))},i.prototype.onOutsideClick=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{once:!0},r=this;r.hasOwnProperty("documentClickListenerRegistered")||(r.documentClickListenerRegistered=!1),r.hasOwnProperty("documentClickListenerRecipes")||(r.documentClickListenerRecipes=[]);var i=r.getDOMGlobals(),o=(i.win,i.doc);return r.documentClickListenerRecipes.push({type:"outsideClick",active:!0,elements:t,fn:e,opts:n,id:r.getProp(n,"id","global")}),!1===r.documentClickListenerRegistered&&(r.documentClickListenerRegistered=!0,o.addEventListener("click",r.debounce(r.onDocumentClick,300,{trailing:!0}),!1)),{remove:function(){r.removeOutsideClickListener(r.getProp(n,"id","global"))}}},i.prototype.removeOutsideClickListener=function(t){self.documentClickListenerRecipes=self.documentClickListenerRecipes.filter((function(e){return e.id!=t}))};var s=new i,a=new i,c=new o,u=new i,l=new i,f=new i,p=new i,h=new i,d=new i;n.arraykit=f,n.domkit=d,n.errorkit=a,n.functionkit=p,n.hashkit=c,n.objectkit=l,n.stringkit=u,n.typekit=s,n.validationkit=h})),Jr=(Yr=$r)&&"object"==typeof Yr&&"default"in Yr?Yr.default:Yr;function Zr(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.error=null,this.window=t.window}function Qr(){this.error=null,this.data={}}function Xr(){Jr.call(this,{}),this.window=void 0,this.setWindow("undefined"==typeof window?void 0:window),this.drivers={},this.driver=null,this.addDriver("memory",Qr),this.addDriver("localStorage",Zr)}Zr.prototype.test=function(){if(void 0===this.window)return!1;if("localStorage"in this.window){try{this.window.localStorage.setItem("test","pass"),this.window.localStorage.removeItem("test")}catch(t){return!1}return!0}return!1},Zr.prototype.clearError=function(){this.error=null},Zr.prototype.set=function(t,e,n){var r=Hr.functionkit.stringify(e);try{this.window.localStorage.setItem(t,r);var i=Hr.typekit.getType(e);this.window.localStorage.setItem("LOCALSTORAGEPRO_TYPE_"+t,i)}catch(t){return this.error=t,!1}return!0},Zr.prototype.get=function(t,e){var n=this.window.localStorage.getItem("LOCALSTORAGEPRO_TYPE_"+t);if("string"==typeof n&&n.length>0){var r=this.window.localStorage.getItem(t);return Hr.functionkit.destringify(r,n)}return this.window.localStorage.getItem(t)},Zr.prototype.remove=function(t){return this.window.localStorage.removeItem(t),this.window.localStorage.removeItem("LOCALSTORAGEPRO_TYPE_"+t),!0},Zr.prototype.clear=function(){return this.window.localStorage.clear(),!0},Zr.prototype.length=function(){return this.window.localStorage.length/2},Zr.prototype.key=function(t){return this.window.localStorage(t)},Zr.prototype.json=function(t){for(var e={},n=0;n<2*this.length();n++){var r=this.window.localStorage.key(n);r.length>21&&"LOCALSTORAGEPRO_TYPE_"==r.slice(0,21)||(e[r]=this.get(r,t))}return e},Qr.prototype.test=function(){return!0},Qr.prototype.clearError=function(){this.error=null},Qr.prototype.set=function(t,e){return this.data[t]=e,!0},Qr.prototype.get=function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},Qr.prototype.remove=function(t){if(!this.data.hasOwnProperty(t))return null;for(var e=Object.keys(this.data),n={},r=0;r<e.length;r++){var i=e[r];i!=t&&(n[i]=this.data[i])}return this.data=n,!0},Qr.prototype.clear=function(){return this.data={},!0},Qr.prototype.length=function(){return Object.keys(this.data).length},Qr.prototype.key=function(t){var e=Object.keys(this.data);return t<e.length&&t>=0?e[t]:null},Qr.prototype.json=function(){return this.data},Xr.prototype=Object.create(Jr.prototype),Xr.prototype.constructor=Xr,Xr.prototype.length=0,Xr.prototype.setWindow=function(t){this.window=t},Xr.prototype.addDriver=function(t,e){var n=new e({window:this.window});!0===n.test()&&(this.drivers[t]=n,this.driver=this.drivers[t])},Xr.prototype.setItem=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this.isKeyValid(t)){var r=this.getDriver(n);return r?(r.set(this.formatKey(t),e,this),Hr.typekit.isError(r.error)?(this.emit("error",new Error("SET_ERROR"),r.error),void r.clearError()):(this.getLength(),!0)):void 0}this.emit("error",new Error("INVALID_KEY"))},Xr.prototype.getItem=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isKeyValid(t)){var n=this.getDriver(e);if(n){var r=n.get(this.formatKey(t),this);return this.getLength(),r}}else this.emit("error",new Error("INVALID_KEY"))},Xr.prototype.removeItem=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isKeyValid(t)){var n=this.getDriver(e);if(n)return n.remove(this.formatKey(t)),this.getLength(),!0}else this.emit("error",new Error("INVALID_KEY"))},Xr.prototype.clear=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.getDriver(t);return e&&(e.clear(),this.getLength()),!0},Xr.prototype.key=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.getDriver(e);return n?n.getKey(t):null},Xr.prototype.getLength=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.getDriver(t);return this.length=e?e.length():0,this.length},Xr.prototype.json=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.getDriver(t);return e?e.json(this):0},Xr.prototype.isKeyValid=function(t){return Hr.typekit.isString(t)&&Hr.validationkit.isNotEmpty(t)||Hr.typekit.isNumber(t)},Xr.prototype.formatKey=function(t){return Hr.typekit.isNumber(t)?t.toString():t},Xr.prototype.availableDrivers=function(){return Object.keys(this.drivers)},Xr.prototype.getDriver=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Hr.validationkit.isNotEmpty(t)?-1===this.availableDrivers().indexOf(t)?void this.emit("error",new Error("DRIVER_NOT_FOUND")):this.drivers[t]:this.driver};var ti=new Xr;var ei,ni=(ei=$r)&&"object"==typeof ei&&"default"in ei?ei.default:ei,ri=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new ni({}),n=["webkit","ms","o","moz","khtml"],r={error:null,started:!1,value:"visible"},i=t.window||("undefined"==typeof window?void 0:window),o=t.document||("undefined"==typeof document?void 0:document);void 0!==i&&void 0!==o||(r.error="INVALID_GLOBALS");var s=[];void 0!==o&&(s=n.filter((function(t){return t+"Hidden"in o})));var a=s&&s.length>0?s[0]:"",c=a+(a.length>0?"H":"h")+"idden",u=a+(a.length>0?"V":"v")+"isibilityState",l=null;function f(){var t=o[u];t!=r.value&&(r.value=t,e.emit("update",t))}function p(){"visible"!=r.value&&(r.value="visible",e.emit("update","visible"))}function h(){"hidden"!=r.value&&(r.value="hidden",e.emit("update","hidden"))}function d(){void 0!==i&&void 0!==o&&!0!==r.started&&("modern"==l?o.addEventListener(a+"visibilitychange",f,0):"focus-blur"==l?(i.addEventListener("focus",p,!0),i.addEventListener("blur",h,!0)):"focus-blur-ie"==l&&(o.attachEvent("onfocusin",p),o.attachEvent("onfocusout",h)),r.started=!0)}function v(){void 0!==i&&void 0!==o&&!1!==r.started&&("modern"==l?o.removeEventListener(a+"visibilitychange",f,1):"focus-blur"==l?(i.removeEventListener("focus",p,!0),i.removeEventListener("blur",h,!0)):"focus-blur-ie"==l&&(o.detachEvent("onfocusin",p),o.detachEvent("onfocusout",h)),r.started=!1)}return void 0!==o&&(l=c in o?"modern":o.addEventListener?"focus-blur":"focus-blur-ie"),{emitter:e,start:d,pause:v,getError:function(){return r.error},getState:function(){return r.value}}};function ii(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};$r.call(this,{}),this.window=t.window||("undefined"==typeof window?void 0:window),this.document=t.document||("undefined"==typeof document?void 0:document),this.memory={events:[],referrer:null},this.isBusy=!1,this.storageKeys={id:"LA_ID",userTimestamp:"LA_USER_TIMESTAMP",sessionTimestamp:"LA_SESSION_TIMESTAMP"},this.sessionLifetime=1800,this.identify(),this.context={id:null,firstVisit:!1},this.visibilityState="visible",this.listenVisibilityChanges(),this.timer=null,this.startTimer(),this.queue=[],this.services=[]}ii.prototype=Object.create($r.prototype),ii.prototype.constructor=ii,ii.prototype.identify=function(){var t=ti.getItem(this.storageKeys.id);if(t)this.updateContext({id:t});else{var e=((t=21)=>{let e="",n=t;for(;n--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e})();this.updateContext({id:e}),ti.setItem(this.storageKeys.id,e)}var n=this.getTimestamp(),r=ti.getItem(this.storageKeys.userTimestamp);Hr.validationkit.isEmpty(r)&&(ti.setItem(this.storageKeys.userTimestamp,n),this.updateContext({firstVisit:!0}));var i=ti.getItem(this.storageKeys.sessionTimestamp);(Hr.validationkit.isEmpty(i)||this.getTimeDiff(n,i)>this.sessionLifetime)&&ti.setItem(this.storageKeys.sessionTimestamp,n),Hr.validationkit.isNotEmpty(this.document)&&(this.memory.referrer=this.document.referrer)},ii.prototype.listenVisibilityChanges=function(){var t=this,e=ri({window:this.window,document:this.document});e.start(),e.emitter.on("update",(function(){var n=e.getState();n!=t.visibilityState&&(t.visibilityState=n,t.event("visibilityChange",{value:t.visibilityState}),t.emit("visibilityChange",t.visibilityState))}))},ii.prototype.getVisibilityState=function(){return this.visibilityState},ii.prototype.setContext=function(t){return Hr.typekit.isObject(t)&&(this.context=t),this},ii.prototype.updateContext=function(t){return Hr.typekit.isObject(t)&&(this.context=Object.assign({},this.context,t)),this},ii.prototype.install=function(){return Promise.all(this.services.map(function(t){return t.install?t.install(this):Promise.resolve()}.bind(this)))},ii.prototype.addService=function(t){return this.services.push(t),this},ii.prototype.startTimer=function(){this.timer=setInterval(function(){this.emit("online"),this.event("online",{})}.bind(this),15e3)},ii.prototype.clearTimer=function(){return Hr.validationkit.isNotEmpty(this.timer)&&(clearInterval(this.timer),this.timer=null),this},ii.prototype.isFirstVisit=function(){return this.context.firstVisit},ii.prototype.event=function(t,e){return this.addToQueue({name:t,params:e}),this},ii.prototype.addToQueue=function(t){return this.queue.push(t),this.processQueue(),!0},ii.prototype.processQueue=function(){if(!0!==this.isBusy){this.isBusy=!0;var t=this.queue.shift();return this.processEvent(t.name,t.params),this.isBusy=!1,this.queue.length>0&&this.processQueue(),!0}},ii.prototype.processEvent=function(t,e){var n=Hr.typekit.isString(t)&&Hr.typekit.isNotEmpty(t)?t:void 0,r=Hr.typekit.isObject(e)?Object.assign({},this.context,e):void 0;if(n){var i=this.getTimestamp(),o=Hr.objectkit.getProp(this.getLastEvent(),"_timestamp",i),s=this.getTimeDiff(i,o),a=Hr.objectkit.getProp(this.getEvent(n),"_timestamp",i),c=this.getTimeDiff(i,a),u={name:n,params:r,_timestamp:i,_timeDiffFromLastEvent:s,_timeDiffFromSameEvent:c};this.memory.events.push(u),0!==this.services.length?Promise.all(this.services.map(function(t){return t.event(n,r)}.bind(this))):this.emit("error",["NO_SERVICE_INSTALLED",new Error("NO_SERVICE_INSTALLED")])}else this.emit("error",["INVALID_EVENT_NAME",new Error("INVALID_EVENT_NAME"),{name:n}])},ii.prototype.getEvent=function(t){var e=this.memory.events.length;if(!(e<1))for(var n=e-1;n>=0;n--)if(this.memory.events[n].name==t)return this.memory.events[n]},ii.prototype.getLastEvent=function(){var t=this.memory.events.length;return t>0?this.memory.events[t-1]:void 0},ii.prototype.getTimestamp=function(){return Date.now()},ii.prototype.getTimeDiff=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"seconds",r="seconds"==n?1e3:1;return Math.floor((t-e)/r)};var oi=Le.filter,si=Ce("filter"),ai=Fe("filter");Zt({target:"Array",proto:!0,forced:!si||!ai},{filter:function(t){return oi(this,t,arguments.length>1?arguments[1]:void 0)}});var ci=function(t,n){var r=[][t];return!!r&&e((function(){r.call(null,n||function(){throw 1},1)}))},ui=[].join,li=o!=Object,fi=ci("join",",");Zt({target:"Array",proto:!0,forced:li||!fi},{join:function(t){return ui.call(a(this),void 0===t?",":t)}});var pi=function(t){return function(e,n,r,i){Oe(n);var s=Qt(e),a=o(s),c=q(s.length),u=t?c-1:0,l=t?-1:1;if(r<2)for(;;){if(u in a){i=a[u],u+=l;break}if(u+=l,t?u<0:c<=u)throw TypeError("Reduce of empty array with no initial value")}for(;t?u>=0:c>u;u+=l)u in a&&(i=n(i,a[u],u,s));return i}},hi={left:pi(!1),right:pi(!0)}.left,di=ci("reduce"),vi=Fe("reduce",{1:0});Zt({target:"Array",proto:!0,forced:!di||!vi},{reduce:function(t){return hi(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var yi=e((function(){Q(1)}));Zt({target:"Object",stat:!0,forced:yi},{keys:function(t){return Q(Qt(t))}});var gi=function(){var t=b(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};function mi(t,e){return RegExp(t,e)}var bi,wi,Ei={UNSUPPORTED_Y:e((function(){var t=mi("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),BROKEN_CARET:e((function(){var t=mi("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},Oi=RegExp.prototype.exec,Si=String.prototype.replace,ji=Oi,xi=(bi=/a/,wi=/b*/g,Oi.call(bi,"a"),Oi.call(wi,"a"),0!==bi.lastIndex||0!==wi.lastIndex),Ti=Ei.UNSUPPORTED_Y||Ei.BROKEN_CARET,_i=void 0!==/()??/.exec("")[1];(xi||_i||Ti)&&(ji=function(t){var e,n,r,i,o=this,s=Ti&&o.sticky,a=gi.call(o),c=o.source,u=0,l=t;return s&&(-1===(a=a.replace("y","")).indexOf("g")&&(a+="g"),l=String(t).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==t[o.lastIndex-1])&&(c="(?: "+c+")",l=" "+l,u++),n=new RegExp("^(?:"+c+")",a)),_i&&(n=new RegExp("^"+c+"$(?!\\s)",a)),xi&&(e=o.lastIndex),r=Oi.call(s?n:o,l),s?r?(r.input=r.input.slice(u),r[0]=r[0].slice(u),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:xi&&r&&(o.lastIndex=o.global?r.index+r[0].length:e),_i&&r&&r.length>1&&Si.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r});var Ii=ji;Zt({target:"RegExp",proto:!0,forced:/./.exec!==Ii},{exec:Ii});var Li=V("species"),Pi=!e((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),ki="$0"==="a".replace(/./,"$0"),Ai=V("replace"),Di=!!/./[Ai]&&""===/./[Ai]("a","$0"),Ri=!e((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),Ni=kr.charAt,Ci=function(t,e,n){return e+(n?Ni(t,e).length:1)},Mi=function(t,e){var n=t.exec;if("function"==typeof n){var i=n.call(t,e);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return Ii.call(t,e)};function Vi(){this.timeout=1e4}!function(t,n,r,i){var o=V(t),s=!e((function(){var e={};return e[o]=function(){return 7},7!=""[t](e)})),a=s&&!e((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[Li]=function(){return n},n.flags="",n[o]=/./[o]),n.exec=function(){return e=!0,null},n[o](""),!e}));if(!s||!a||"replace"===t&&(!Pi||!ki||Di)||"split"===t&&!Ri){var c=/./[o],u=r(o,""[t],(function(t,e,n,r,i){return e.exec===Ii?s&&!i?{done:!0,value:c.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:ki,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:Di}),l=u[0],f=u[1];Mt(String.prototype,t,l),Mt(RegExp.prototype,o,2==n?function(t,e){return f.call(t,this,e)}:function(t){return f.call(t,this)})}i&&j(RegExp.prototype[o],"sham",!0)}("match",1,(function(t,e,n){return[function(e){var n=s(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var i=b(t),o=String(this);if(!i.global)return Mi(i,o);var s=i.unicode;i.lastIndex=0;for(var a,c=[],u=0;null!==(a=Mi(i,o));){var l=String(a[0]);c[u]=l,""===l&&(i.lastIndex=Ci(o,q(i.lastIndex),s)),u++}return 0===u?null:c}]})),Vi.prototype.reCSSExt=/(.css)/,Vi.prototype.supportedLocations=["bodyEnd","bodyStart","headEnd"],Vi.prototype.inject=function(t,e){var n=this;if(!e.id)throw new Error("Missing id for an injected script.");var r=n.reCSSExt.test(t),i=r?"link":"script";return new Promise((function(o,s){if(document.getElementById(e.id))return o(e.id);var a=setTimeout((function(){return s(new Error("TIMEOUT"))}),n.timeout),c=document.createElement(i);function u(){return r&&(c.media=e.media||"all"),clearTimeout(a),o(e.id)}c.id=e.id,"link"==i&&(c.rel="stylesheet",c.href=t,c.media="only x"),"script"==i&&(c.type=e.type||"text/javascript",c.async=!e.hasOwnProperty("async")||e.async),e.attrs&&Object.keys(e.attrs).map((function(t){return c.setAttribute(t,e.attrs[t])})),c.addEventListener?c.addEventListener("load",u,!1):c.readyState?c.onreadystatechange=u:c.onload&&(c.onload=u),c.onerror&&(c.onerror=function(t){return clearTimeout(a),s(t)}),"script"==i&&(c.src=t),n.injectToLocation(c,e.location)}))},Vi.prototype.injectJSONLD=function(t,e){if(e.id&&document.getElementById(e.id))return null;var n=document.createElement("script");n.type="application/ld+json",e.id&&(n.id=e.id),e.attrs&&Object.keys(e.attrs).map((function(t){return n.setAttribute(t,e.attrs[t])})),n.text="string"==typeof t?t:JSON.stringify(t),this.injectToLocation(n,e.location)},Vi.prototype.injectToLocation=function(t,e){var n=e||this.supportedLocations[0];if(-1!==this.supportedLocations.indexOf(n)){var r=document.getElementsByTagName("head")[0],i=document.getElementsByTagName("body")[0];"headEnd"==n?r.insertBefore(t,null):"bodyEnd"==n?i.insertBefore(t,null):"bodyStart"==n&&i.insertBefore(t,i.firstChild)}},Vi.prototype.remove=function(t){var e=document.getElementById(t);e&&e.parentNode.removeChild(e)};var Bi=new Vi;function Fi(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.id=t.id,this.userID=t.userID,this.initOpts={send_page_view:!1},this.userID&&(this.initOpts.user_id=this.userID),this.ready=!1,this.client=null,this.scriptTagID="lighthouse-service-google-analytics",this.scriptURL="https://www.googletagmanager.com/gtag/js?id="+this.id,this.reservedEventNames={screenView:"screen_view",time:"timing_complete",error:"exception",share:"share",search:"search",login:"login",signup:"sign_up"},this.parameterReference={screen_view:{params:["screen_name","app_name","app_id","app_version","app_installer_id"],match:{title:"screen_name",appName:"app_name",appID:"app_id",appVersion:"app_version",appInstallerID:"app_installer_id"},requiredParams:["screen_name","app_name"]},timing_complete:{params:["name","value","event_category","event_label"],match:{name:"event_category",category:"name",value:"value"},requiredParams:["name","value"]},exception:{params:["description","fatal"],match:{debug:"description"},requiredParams:["description"]},share:{params:["method","content_id","content_type"],match:{channel:"method",id:"content_id"},requiredParams:["method"]},search:{params:["term"],match:{term:"term"},requiredParams:["term"]}}}Fi.prototype.install=function(t){var e=this;return e.client=t,e.client.window.dataLayer=e.client.window.dataLayer||[],e.client.window.gtag=function(){dataLayer.push(arguments)},e.client.window.gtag("js",new Date),e.client.window.gtag("config",e.id,e.initOpts),new Promise((function(t,n){Bi.inject(e.scriptURL,{id:this.scriptTagID,location:"afterScript"}).then((function(){return e.ready=!0,t()})).catch((function(n){return e.client.emit("error",n),t()}))}))},Fi.prototype.event=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!0===this.ready){var n=this.findLocalEventName(t,e);if("screen_view"==n){var r=this.generatePageLoadParams(e);Hr.typekit.isObject(r)&&self.client.window.gtag("config",this.id,r)}var i=this.generateLocalParams(n,e);if(!Hr.typekit.isUndefined(i)){var o=this.parameterReference.hasOwnProperty(n);if(o){var s=this.parameterReference[n];if(s.hasOwnProperty("requiredParams")){var a=s.requiredParams.filter((function(t){return!0!==i.hasOwnProperty(t)}));if(a&&a.length>0)return void this.client.emit("error",[new Error("MISSING_PARAMS"),a.join(",")])}}self.client.window.gtag("event",n,i)}}},Fi.prototype.findLocalEventName=function(t,e){return"view"==t&&"screen"==Hr.objectkit.getProp(e,"category","")?this.reservedEventNames.screenView:this.reservedEventNames.hasOwnProperty(t)?this.reservedEventNames[t]:t},Fi.prototype.generateLocalParams=function(t,e){this.client.kit;var n=this.parameterReference.hasOwnProperty(t);if(n||e.hasOwnProperty("value")){if(!n&&e.hasOwnProperty("value"))return Object.assign({},{event_callback:function(){}},{event_label:e.value,event_category:"engagement"});var r=this.parameterReference[t],i=Hr.typekit.isObject(e.googleAnalytics)?e.googleAnalytics:{},o=Object.keys(r.match).reduce((function(t,n){return e.hasOwnProperty(n)&&(t[r.match[n]]=e[n]),t}),{});return Object.assign({},{event_callback:function(){}},o,i)}},Fi.prototype.generatePageLoadParams=function(t){this.client.kit;if(t.hasOwnProperty("path")&&Hr.validationkit.isNotEmpty(t.path)){var e={page_path:t.path,page_title:t.title};return Hr.validationkit.isNotEmpty(t.url)&&(e.page_location=t.url),e}};export{ii as Lighthouse,Fi as LighthouseServiceGoogleAnalytics};
